{% extends "base.twig" %}

{% block content %}

    <section class="bgcolor-white">
        <section class="basic-content">
            <div class="row">
                <div class="rte">
                    {{ page.content }}
                </div>
            </div>
        </section>
    </section>

    <div id="gmap-arts"></div>

    <section class="artwork-list">
        <div class="row">
            <div class="section__title">
                <h2>{{ __('Works list', 'site-theme') }}</h2>
            </div>
        </div>
        <div class="row content">

            {% set years = [] %}

            {% for item in artwork_posts %}
                {% set date = item.annee %}
                {% if date not in years -%}
                    {% set years = years|merge([date]) %}
                {% endif %}
            {% endfor %}

            {% for year in years|sort|reverse %}
                <article class="year-artworks">
                    <div class="section__sub-title">
                        <h3>{{year}}</h3>
                    </div>
                    <div class="artwork-col">
                    {% for artwork_post in artwork_posts %}
                        {% set date = artwork_post.annee %}
                        {% if date == year %}
                            <div class="artwork">
                                <span data-markerid="{{artwork_post.id}}">{{artwork_post.title}}</span>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </article>
            {% endfor %}

{#
            {% for year in artworks_by_years %}
            <div class="year-artworks">
                <h3>{{year}}</h3>
                <section class="artwork-col">

                </section>
            </div>
            {% endfor %}
#}
        </div>
    </section>

{% endblock %}